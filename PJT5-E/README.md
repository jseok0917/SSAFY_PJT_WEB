**âœ” ì‘ì„± ì •ë³´**

íŒ€ : ì„œìš¸ 7ë°˜ A ì¡°

íŒ€ì¥ : ì„ì§€ëª…

íŒ€ì› : ê¹€ì˜ˆë¦¼

ë‚  ì§œ : 2023-10-13

ê°œë°œë„êµ¬ : eclipse, MySQL

í˜‘ì—… ë„êµ¬ : Github

<br>

---

âœ” **í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­**

ğŸ“Œ ìš”êµ¬ì‚¬í•­

- Ssafit í”„ë¡œì íŠ¸ì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì„¤ê³„í•˜ê³  êµ¬í˜„í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤. Ssafit
í”„ë¡œì íŠ¸ì˜ DBë¥¼ êµ¬ì¶•í•˜ì—¬ í•„ìš”í•œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•˜ë„ë¡ ì‘ì„±í•œë‹¤.
íŒ€ì›ê³¼ ìƒì˜ í›„ ìš”êµ¬ì‚¬í•­ì˜ ê¸°ëŠ¥ì„ í™”ë©´ì— í‘œì‹œí•  ë•Œ í•„ìš”í•œ DataBaseë¥¼ ì„¤ê³„í•˜ê³  êµ¬í˜„
í•˜ì—¬ ë³´ì.

1) ê¸°ë³¸ ê¸°ëŠ¥(í•„ìˆ˜)
ì‚¬ì´íŠ¸ì˜ ì‚¬ìš©ìì—ê²Œ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ìš´ë™ ì˜ìƒ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ê³  ì‚¬ìš©ìëŠ”
ìš´ë™ì— ëŒ€í•œ ë¦¬ë·°ë¥¼ í™•ì¸í•œë‹¤. ë¡œê·¸ì¸ ì´í›„ì—ëŠ” ì§ì ‘ ë¦¬ë·°ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê³ 
ìì‹ ì´ ì‘ì„±í•œ ë¦¬ë·°ë¥¼ ìˆ˜ì • ë˜ëŠ” ì‚­ì œí•  ìˆ˜ ìˆë‹¤.



âœ… : êµ¬í˜„ ì™„ë£Œ, ğŸ”¼ : ë¶€ë¶„ êµ¬í˜„, âŒ : ë¯¸êµ¬í˜„

1ï¸âƒ£ ê¸°ë³¸ê¸°ëŠ¥

- ë©”ì¸í˜ì´ì§€ì— ë³´ì—¬ì§ˆ ì˜ìƒì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” Table ì„¤ê³„âœ…
- ìš´ë™ ì˜ìƒì— ëŒ€í•œ ë¦¬ë·°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” Table ì„¤ê³„âœ…

2ï¸âƒ£ ì¶”ê°€ ê¸°ëŠ¥
- ë°ì´í„°ë² ì´ìŠ¤ì™€ JAVA Projectì™€ ì—°ê²° - Review, Video í´ë˜ìŠ¤ DBì—°ë™âœ…

- ì‚¬ì´íŠ¸ì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ í•„ìš”í•œ íšŒì› ì •ë³´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.âŒ
  - íšŒì›ì •ë³´ë¥¼ ê´€ë¦¬ í•  ìˆ˜ ìˆëŠ” Table (ë¡œê·¸ì¸ í¬í•¨)âŒ

3ï¸âƒ£ ì‹¬í™” ê¸°ëŠ¥
íšŒì›ì€ ê´€ì‹¬ìˆëŠ” ì˜ìƒì„ ì°œì„ í•˜ì—¬ ê´€ë¦¬í•˜ê³  ë‹¤ë¥¸ íšŒì›ì„ íŒ”ë¡œìš° í•  ìˆ˜ ìˆë‹¤.âŒ
- íšŒì›ì˜ íŒ”ë¡œìš° ì •ë³´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” Table ì„¤ê³„âŒ
- íšŒì›ì˜ ì˜ìƒ ì°œ ì •ë³´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” Table ì„¤ê³„âŒ


<br>

---

âœ” **êµ¬ìƒ ë° ì„¤ê³„**

0. ê¸°ì¡´ì— ì§„í–‰í–ˆë˜ ë°±ì—”ë“œ ê´€í†µPJT ì—ì„œ ì‹œì‘í•œë‹¤.

1. ë©”ì¸í˜ì´ì§€ì— ë³´ì—¬ì§ˆ ì˜ìƒì •ë³´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” Table ì„¤ê³„
2. ìš´ë™ ì˜ìƒì— ëŒ€í•œ ë¦¬ë·°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” Table ì„¤ê³„

**E-R Diagram** <br>
![1](./README_assets/ERDiagram.JPG)

**Table ì„¤ê³„ SQLêµ¬ë¬¸** 

**VIDEO TABLE** \
![1](./README_assets/SQLvideo.PNG) \
**REVIEW TABLE** \
![2](./README_assets/SQLreview.PNG) \
**USER TABLE** \
![3](./README_assets/SQLuser.PNG) \



3. ë°ì´í„°ë² ì´ìŠ¤ì™€ JAVA Projectë¥¼ ì—°ë™í•œë‹¤.

---



---

âœ” **í´ë” êµ¬ì¡°**

![1](./README_assets/folderStructure.png)
![2](./README_assets/folderStructure2.png)

---

# ê¸°ë³¸ ê¸°ëŠ¥ êµ¬í˜„ í™”ë©´

---

## ì˜ìƒëª©ë¡ í™”ë©´

![0](./README_assets/popular.png)
ì˜ìƒëª©ë¡ í˜ì´ì§€ì—ì„œ popular ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ DBì—ì„œ SELECTë¬¸ì„ ì´ìš©í•˜ì—¬ ì˜ìƒëª©ë¡ì„ ê²€ìƒ‰í•˜ê³ , ì¡°íšŒìˆœ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ëœ ì˜ìƒì´ ë‚˜ì˜¨ë‹¤.

**êµ¬í˜„ì½”ë“œ**

```java
@Override
	public List<Video> selectInterestViewFitVideo() {
		String sql = "SELECT * FROM video ORDER BY viewCnt DESC";
		List<Video> list = new ArrayList<>();

		Connection conn = null;
		Statement stmt = null;
		ResultSet rs = null;
		// 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
		try {
			conn = util.getConnection();
			stmt = conn.createStatement();
			rs = stmt.executeQuery(sql);

			while (rs.next()) {
				Video video = new Video();
				video.setTitle(rs.getString(1));
				video.setFitPartName(rs.getString(2));
				video.setYoutubeId(rs.getString(3));
				video.setChannelName(rs.getString(4));
				video.setViewCnt(rs.getInt(5));

				list.add(video);
			}
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
			util.close(rs, stmt, conn);
		}
		
		
		return list;
			

	}

```


---

## ë¶€ìœ„ë³„ ì˜ìƒëª©ë¡ ì¶œë ¥ í™”ë©´

![ë¶€ìœ„ë³„](./README_assets/upper.png)

**êµ¬í˜„ì½”ë“œ**

```java
//í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í–ˆì„ ë•Œ 
	//ë¹„ë””ì˜¤ ë¦¬ìŠ¤íŠ¸ì—ì„œ, ê²€ìƒ‰í•œ í‚¤ì›Œë“œë¥¼ ê°–ê³ ìˆëŠ” ë¹„ë””ì˜¤ë“¤ë§Œ ì°¾ì•„ì„œ ë¹„ë””ì˜¤ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜
	@Override
	public List<Video> searchVideo(String keyword) {
		List<Video> searchList = new ArrayList<>();

		String sql = "SELECT * FROM video WHERE title LIKE ? ";
		
		Connection conn = null;
		PreparedStatement pstmt = null;
		ResultSet rs = null;
		// 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
		try {
			conn = util.getConnection();
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, '%'+keyword+'%');
			
			rs = pstmt.executeQuery();

			while (rs.next()) {
				Video video = new Video();
				video.setTitle(rs.getString(1));
				video.setFitPartName(rs.getString(2));
				video.setYoutubeId(rs.getString(3));
				video.setChannelName(rs.getString(4));
				video.setViewCnt(rs.getInt(5));

				searchList.add(video);
			}
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
			util.close(rs, pstmt, conn);
		}

		return searchList;
	}
```


---

## ì˜ìƒê²€ìƒ‰ í™”ë©´

![ë¹„ë””ì˜¤ê²€ìƒ‰](./README_assets/searchVideo.png)
ê²€ìƒ‰ ì‹œ DBì—ì„œ SELECTë¬¸ì„ ì´ìš©í•˜ì—¬ í‚¤ì›Œë“œë¥¼ í¬í•¨í•˜ëŠ” ì œëª©ì„ ê°€ì§„ ì˜ìƒëª©ë¡ì„ ê²€ìƒ‰í•˜ê³ , ì˜ìƒëª©ë¡ì„ ì¶œë ¥í•œë‹¤.

**êµ¬í˜„ì½”ë“œ**

```java
//í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í–ˆì„ ë•Œ 
	//ë¹„ë””ì˜¤ ë¦¬ìŠ¤íŠ¸ì—ì„œ, ê²€ìƒ‰í•œ í‚¤ì›Œë“œë¥¼ ê°–ê³ ìˆëŠ” ë¹„ë””ì˜¤ë“¤ë§Œ ì°¾ì•„ì„œ ë¹„ë””ì˜¤ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜
	@Override
	public List<Video> searchVideo(String keyword) {
		List<Video> searchList = new ArrayList<>();

		String sql = "SELECT * FROM video WHERE title LIKE ? ";
		
		Connection conn = null;
		PreparedStatement pstmt = null;
		ResultSet rs = null;
		// 2. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
		try {
			conn = util.getConnection();
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, '%'+keyword+'%');
			
			rs = pstmt.executeQuery();

			while (rs.next()) {
				Video video = new Video();
				video.setTitle(rs.getString(1));
				video.setFitPartName(rs.getString(2));
				video.setYoutubeId(rs.getString(3));
				video.setChannelName(rs.getString(4));
				video.setViewCnt(rs.getInt(5));

				searchList.add(video);
			}
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
			util.close(rs, pstmt, conn);
		}

		return searchList;
	}
```


## ì˜ìƒìƒì„¸ - ë¦¬ë·°ê´€ë¦¬ í™”ë©´
![5](./README_assets/detail-review.PNG)
- í•˜ë‹¨ìœ¼ë¡œ ì­‰ ë‚´ë ¤ ì˜ìƒì— ë§ëŠ” ë¦¬ë·°ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆê³ , ë¦¬ë·°ë“±ë¡/ìˆ˜ì •/ì‚­ì œ ë¦¬ë·°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
- ë¦¬ë·° ì¡°íšŒ/ë“±ë¡/ìˆ˜ì •/ì‚­ì œ ì‹œì— ë¦¬ë·°ë°ì´í„°ë“¤ì„ DBì™€ ì—°ë™í•˜ì—¬ CRUDê°€ ê°€ëŠ¥í•˜ë„ë¡ ì½”ë“œë¥¼ ì—°ë™ì‹œí‚¨ë‹¤.

**êµ¬í˜„ì½”ë“œ**

```java
@Override
	public List<Review> selectVideoReview(String youtubeId) {
		String sql = "SELECT * FROM review WHERE youtubeId = ?";
		List<Review> reviewList = new ArrayList<>();
		
		Connection conn = null;
		PreparedStatement pstmt = null;
		ResultSet rs = null;
		
		try {
			conn = util.getConnection();
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, youtubeId);
			
			rs = pstmt.executeQuery();
			
			while (rs.next()) {
				Review review = new Review();
				
				review.setId(rs.getInt(1));
				review.setWriter(rs.getString(2));
				review.setContent(rs.getString(3));
				review.setRegDate(rs.getString(4));
				review.setYoutubeId(rs.getString(5));
				
				reviewList.add(review);
			}
			
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
			util.close(rs, pstmt, conn);
		}
		return reviewList;
	}
```


---

### ë¦¬ë·° ë“±ë¡ 
![1](./README_assets/writereview.png)
![2](./README_assets/writereview2.png)

**êµ¬í˜„ì½”ë“œ**

```java
@Override
	public void registVideoReview(Review review) {
		String sql = "INSERT INTO review(writer, content, youtubeId) VALUES(?, ?, ?)";
		Connection conn = null;
		PreparedStatement pstmt = null;
		ResultSet rs = null;
		
		try {
			conn = util.getConnection();
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, review.getWriter());
			pstmt.setString(2, review.getContent());
			pstmt.setString(3, review.getYoutubeId());
			
			pstmt.executeUpdate();
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
			util.close(rs, pstmt, conn);
		}
		
	}
```


---

### ë¦¬ë·° ìˆ˜ì •

![1](./README_assets/editreview.png)
![2](./README_assets/editreview2.png)

**êµ¬í˜„ì½”ë“œ**

```java
	@Override
	public void updateVideoReview(Review review) {
		String sql = "UPDATE review SET content = ? WHERE youtubeId = ?";
		Connection conn = null;
		PreparedStatement pstmt = null;
		ResultSet rs = null;
		
		try {
			conn = util.getConnection();
			pstmt = conn.prepareStatement(sql);
			
			pstmt.setString(1, review.getContent());
			pstmt.setString(2, review.getYoutubeId());
			
			pstmt.executeUpdate();
			
			
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
			util.close(rs, pstmt, conn);
		}

	}
```

### ë¦¬ë·° ì‚­ì œ 

![1](./README_assets/removereview.png)
![2](./README_assets/removereview2.png)

**êµ¬í˜„ì½”ë“œ**

```java
@Override
	public void deleteVideoReview(String youtubeId, int id) {
		String sql = "DELETE FROM review WHERE youtubeId = ? AND id = ?";
		Connection conn = null;
		PreparedStatement pstmt = null;
		
		try {
			conn = util.getConnection();
			pstmt = conn.prepareStatement(sql);
			
			pstmt.setString(1, youtubeId);
			pstmt.setInt(2, id);
			
			pstmt.executeUpdate();
			
			
		} catch (SQLException e) {
			e.printStackTrace();
		} finally {
			util.close(pstmt, conn);
		}
		
	}

```



---

# ì¶”í›„ êµ¬í˜„í•  ê²ƒ

1. ì‚¬ìš©ì íŒ”ë¡œìš° íŒ”ë¡œì›Œ ê¸°ëŠ¥ ì¶”ê°€ ë° DBì—°ë™
2. ì˜ìƒì°œê¸°ëŠ¥ ì¶”ê°€ ë° DBì—°ë™
3. ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„ ë° íšŒì›ì •ë³´ DBì—°ë™
4. ì‚¬ìš©ìì™€ ë¦¬ë·° ì—°ê²° ë° DBì—°ë™
